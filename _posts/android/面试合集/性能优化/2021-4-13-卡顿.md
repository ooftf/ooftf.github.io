
## 卡顿的原因有哪些
1. 主线程执行耗时操作
2. 频繁GC 导致stop the world
3. 算法过于耗时
4. 渲染过于复杂

## 卡顿检测
## 卡顿监测
#### 监测原理
1. 利用AOP对方法进行插桩，计算方法执行时间
2. 循环向主线程Looper post事件计算post和handle时间差

## 寻找卡顿原因
## 修复卡顿问题
## 常见卡顿原因
## ANR 问题修复 
* [Google ANR 文档](https://developer.android.com/topic/performance/vitals/anr)
* [StrictMode](https://blog.csdn.net/weixin_40763897/article/details/89018306)
  
* TraceView 已弃用 改为 Profiler CPU


#### 什么情况下会触发 ANR
* Activity 如果5秒之心无法响应屏幕触摸事件或者键盘输入事件就会出现 ANR
* BroadcastReceiver 如果10秒内还未执行完操作也会出现 ARN

#### 如何定位 ANR
当一个进程发生 ANR 后，系统会在 /data/anr 目录下创建一个文件 traces.text , 荣国分析这个文件就能定位出 ANR 的原因                                                                                                                                                                                                                                                                                          